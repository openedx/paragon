import { StaticQuery, graphql } from 'gatsby';
import { StatefulButton } from '~paragon-react';
import PropsTable from '../../components/PropsTable';

# StatefulButton


##### basic usage

```jsx live=true
() => {  
  const props = {
    labels: {
      default: 'Saved',
      pending: 'Saving',
      complete: 'Saved',
    },
    className: 'btn-primary mr-2',
  };
  return (
    <div>
      <StatefulButton {...props} />
      <StatefulButton state="pending" {...props} />
      <StatefulButton state="complete" {...props} />
    </div>
  );
}
```


##### custom icons and disable during state

```jsx live=true
() => {
  const downloadButtonProps = {
    labels: {
      default: 'Download',
      pending: 'Downloading',
      complete: 'Downloaded',
    },
    icons: {
      default: <Icon className="fa fa-download" />,
      pending: <Icon className="fa fa-spinner fa-spin" />,
      complete: <Icon className="fa fa-check" />,
    },
    disabledStates: ['pending'],
    className: 'btn-primary mr-2',
  };
  return (
    <React.Fragment>
      <StatefulButton state="default" {...downloadButtonProps} />
      <StatefulButton state="pending" {...downloadButtonProps} />
      <StatefulButton state="complete" {...downloadButtonProps} />
    </React.Fragment>
  );
}
```


##### custom states

```jsx live=true
() => {
  const buttonProps = {
    labels: {
      unedited: 'Save (no changes)',
      edited: 'Save Changes',
    },
    icons: {
      unedited: <Icon className="fa fa-save" />,
      edited: <Icon className="fa fa-save" />,
    },
    disabledStates: ['unedited'],
    className: 'btn-primary mr-2',
  };
  return (
    <React.Fragment>
      <StatefulButton state="unedited" {...buttonProps} />
      <StatefulButton state="edited" {...buttonProps} />
    </React.Fragment>
  );
}
```


##### Props

<StaticQuery
  query={graphql`query {
    componentMetadata(displayName: { eq: "StatefulButton" }) { ...ComponentDocGenData }
  }`}
  render={({ componentMetadata }) => {
    if (componentMetadata == null) return null;
    return <PropsTable propMetaData={componentMetadata.props} />;
  }}
/>
