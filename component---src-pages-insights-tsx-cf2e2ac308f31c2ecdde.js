"use strict";(self.webpackChunkparagon_pattern_library_documentation=self.webpackChunkparagon_pattern_library_documentation||[]).push([[225],{88883:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(27378),r=n(58391),o=n(85403),l=n(39300),s=n(79813),c=n(42980),m=n(46197),i=n(8206),u=n(71134),p=n(48898),d=n(77423),E=n(18713),b=n(22741),g=n(91492),S=n.n(g),y=n(6606);var h=function(e){let{row:t}=e;const{usages:n,name:r}=t.original,o=n.map((e=>{let{folderName:t,usages:n,repositoryUrl:o}=e;return a.createElement("div",{className:"pgn-doc__summary-usages__project mb-4",key:t},a.createElement("h5",{className:"font-weight-bold"},t),a.createElement(y.Z,{usages:n,componentName:r,repositoryUrl:o,projectName:t}))}));return a.createElement("div",null,o)},T=n(60141),N=n(64714),O=n(25040),f=n.n(O);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,T.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const{projectUsages:Z}=N;function j(){const e=[];return Z.forEach((t=>{e.push(v(v({},t),{},{repositoryUrl:f()(t.repository),count:Object.values(t.usages).reduce(((e,t)=>e+t.length),0)}))})),e}const C=e=>Math.round(10*e)/10,P="Icon",w=10,H=Object.keys(S()),_=j();var k=function(){const{paragonTypes:e={},isParagonIcon:t=(()=>!1)}=(0,a.useContext)(i.default),n=(0,u.useMediaQuery)({minWidth:p.Z.large.minWidth}),r=Object.keys(e).reduce(((n,a)=>{const r=e[a]||t(a)&&P;return H.includes(a)&&(n[r]=(n[r]||0)+1),n}),{}),o=Object.keys(e).map((t=>e[t])).filter(((e,t,n)=>n.indexOf(e)===t)).map((e=>({name:e,number:r[e],value:e}))),l={name:P,number:void 0,value:P},s=Object.entries(S()).map((n=>{let[a,r]=n;const o=r.reduce(((e,t)=>e+t.componentUsageCount),0);let s=e[a];return!s&&t(a)&&(s=P,l.number=(l.number||0)+1),{name:a,count:o,usages:S()[a],type:s}}));o.push(l),r[P]=l.number;const c=s.sort(((e,t)=>e.name.toUpperCase()<t.name.toUpperCase()?-1:1)),m=_.reduce(((e,t)=>e+t.count),0)/_.length;return a.createElement("div",{className:"pt-5 mb-5"},a.createElement("div",{className:"mb-5"},a.createElement("h2",null,"Overview"),a.createElement("p",null,"Paragon is used by at least ",a.createElement("strong",null,_.length," projects"),", with an average of ",a.createElement("strong",null,C(m)," imports")," per project.")),a.createElement("h3",null,"Overall usage"),a.createElement(d.Z,{isPaginated:!0,isExpandable:!0,isSortable:!0,showFiltersInSidebar:n,isFilterable:!0,defaultColumnValues:{Filter:E.Z},itemCount:c.length,data:c,renderRowSubComponent:e=>{let{row:t}=e;return a.createElement(h,{row:t})},initialState:{pageSize:w},columns:[{id:"expander",Header:d.Z.ExpandAll,Cell:d.Z.ExpandRow},{Header:"Component Name",accessor:"name"},{Header:"Instance Count",accessor:"count",disableFilters:!0},{Header:"Type",accessor:"type",Filter:b.Z,filter:"includesValue",filterChoices:o}]},a.createElement(d.Z.TableControlBar,null),a.createElement(d.Z.Table,null),a.createElement(d.Z.EmptyTable,{content:"No summary available"}),a.createElement(d.Z.TableFooter,null)))};var U=function(e){let{row:t}=e;const{repositoryUrl:n,usages:r,folderName:o}=t.original,l=Object.keys(r).sort().reduce(((e,t)=>(e[t]=r[t],e)),{});return a.createElement(a.Fragment,null,0===Object.keys(r).length&&a.createElement("p",null,"This project does not import any Paragon components, but may still use its SCSS styles."),Object.entries(l).map((e=>{let[t,r]=e;return a.createElement("div",{className:"pgn-doc__usages-modal mb-4",key:t},a.createElement("h5",{className:"font-weight-bold"},t),a.createElement(y.Z,{usages:r,componentName:t,repositoryUrl:n,projectName:o}))})))};var A=function(){const e=j();return a.createElement("div",{className:"pt-5 mb-5"},a.createElement("h3",{className:"mb-4"},"Projects in Open edX consuming Paragon"),a.createElement(d.Z,{isExpandable:!0,isSortable:!0,itemCount:e.length,data:e,renderRowSubComponent:e=>{let{row:t}=e;return a.createElement(U,{row:t})},columns:[{id:"expander",Header:d.Z.ExpandAll,Cell:d.Z.ExpandRow},{Header:"Project Name",accessor:"folderName"},{Header:"Paragon Version",accessor:"version"},{Header:"Import Count",accessor:"count"}]},a.createElement(d.Z.TableControlBar,null),a.createElement(d.Z.Table,null),a.createElement(d.Z.EmptyTable,{content:"No projects"}),a.createElement(d.Z.TableFooter,null)))},x=n(83562),B=n(67245);var G=function(e){let{data:t}=e;return a.createElement("div",{className:"pt-5 mb-5"},t.length?t.sort().map((e=>a.createElement(x.Z,{key:e,name:e,componentUsageInProjects:S()[e]}))):(0,B.Z)("hooks"))};var F=function(e){let{data:t}=e;return a.createElement("div",{className:"pt-5 mb-5"},t.length?t.sort().map((e=>a.createElement(x.Z,{key:e,name:e,componentUsageInProjects:S()[e]}))):(0,B.Z)("utils"))};var K=function(e){let{data:t}=e;return a.createElement("div",{className:"pt-5 mb-5"},t.length?t.sort().map((e=>a.createElement(x.Z,{key:e,name:e,componentUsageInProjects:S()[e]}))):(0,B.Z)("utils"))},M=n(88492),R=n(12834),D=n(40504);const{lastModified:L}=N;function V(e){let{pageContext:{tab:t}}=e;const{settings:u}=(0,a.useContext)(D.SettingsContext),{paragonTypes:p={},isParagonIcon:d=(()=>!1)}=(0,a.useContext)(i.default),{components:E,hooks:b,utils:g,icons:y}=Object.keys(S()).reduce(((e,t)=>("Component"===p[t]?e.components.push(t):"Hook"===p[t]?e.hooks.push(t):["Text","Function","Object"].includes(p[t])?e.utils.push(t):d(t)&&e.icons.push(t),e)),{components:[],hooks:[],utils:[],icons:[]});return a.createElement(m.Z,{isAutoToc:!0,tab:t},a.createElement(c.Z,{title:"Usage Insights"}),a.createElement(o.Z,{size:u.containerWidth,className:"py-5"},a.createElement("header",{className:"mb-5"},a.createElement("h1",null,"Usage Insights"),a.createElement("p",null,"Last updated: ",new Date(L).toLocaleDateString())),a.createElement(l.ZP,{activeKey:t,id:"uncontrolled-tab-example",onSelect:e=>{e!==t&&(n.g.analytics.track(`openedx.paragon.docs.insights.tabs.${e.toLowerCase().trim()}.clicked`),(0,r.navigate)(R.INSIGHTS_PAGES.find((t=>t.tab===e)).path))}},a.createElement(s.Z,{eventKey:R.INSIGHTS_TABS.SUMMARY,title:"Summary"},t===R.INSIGHTS_TABS.SUMMARY&&a.createElement(k,null)),a.createElement(s.Z,{eventKey:R.INSIGHTS_TABS.PROJECTS,title:"Projects"},t===R.INSIGHTS_TABS.PROJECTS&&a.createElement(A,null)),a.createElement(s.Z,{eventKey:R.INSIGHTS_TABS.COMPONENTS,title:"Components"},t===R.INSIGHTS_TABS.COMPONENTS&&a.createElement(M.Z,{data:E})),a.createElement(s.Z,{eventKey:R.INSIGHTS_TABS.HOOKS,title:"Hooks"},t===R.INSIGHTS_TABS.HOOKS&&a.createElement(G,{data:b})),a.createElement(s.Z,{eventKey:R.INSIGHTS_TABS.UTILS,title:"Utils"},t===R.INSIGHTS_TABS.UTILS&&a.createElement(F,{data:g})),a.createElement(s.Z,{eventKey:R.INSIGHTS_TABS.ICONS,title:"Icons"},t===R.INSIGHTS_TABS.ICONS&&a.createElement(K,{data:y})))))}}}]);
//# sourceMappingURL=component---src-pages-insights-tsx-cf2e2ac308f31c2ecdde.js.map